{
  "Kind": "service-intentions",
  "Name": "iam-service",
  "Sources": [
    {
      "Name": "gateway-service",
      "Action": "allow",
      "Permissions": [
        {
          "Action": "allow",
          "HTTP": {
            "PathPrefix": "/auth/",
            "Methods": ["GET", "POST"]
          }
        },
        {
          "Action": "allow",
          "HTTP": {
            "PathPrefix": "/api/iam/",
            "Methods": ["GET", "POST", "PUT", "DELETE"]
          }
        }
      ],
      "Description": "Allow gateway to access IAM service for authentication and authorization"
    }
  ],
  "Meta": {
    "created_by": "service-mesh-config",
    "purpose": "gateway-iam-communication"
  }
}
